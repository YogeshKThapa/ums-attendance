<!DOCTYPE html>

<html>
<head>
    <title>ViewDetail</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="https://uktech.ac.in/favicon.ico" rel="shortcut icon" />
    <link href="/ums/Content/ums/css/bootstrap.css" rel='stylesheet' />
    <link href="/ums/Content/ums/css/jquery.smartmenus.bootstrap-4.css" rel="stylesheet" />
    <link href="/ums/Content/ums/css/all.css" rel="stylesheet" />
    <link href="/ums/Content/ums/css/dataTables.bootstrap5.min.css" rel='stylesheet' />
    <link href="/ums/Content/ums/css/custom_theme.css" rel='stylesheet' />
    <link href="/ums/Content/ums/css/colorTheme/themeColor3.css" rel='stylesheet' />
    <link href="/ums/Content/ums/css/fontStyle/default-font.css" rel='stylesheet' />
    <link href="/ums/Content/ums/css/background/bg-default.css" rel='stylesheet' />
    <link href="/ums/Content/css/datepicker.css" rel='stylesheet' />
    <link href='/ums/Content/ums/css/select2.min.css' rel='stylesheet' />
    <link href="/ums/Content/ums/css/draggle.css" rel="stylesheet" />
    <link href="/ums/Content/ums/css/responsive.css" rel='stylesheet' />
    <link href="/ums/Content/ums/css/multiselect.css" rel="stylesheet" />
    <link href="/ums/Content/css/sweetalert.min.css" rel="stylesheet" />
    <script src="/ums/Content/js/jquery-min.js"></script>
    <script type="text/javascript" src="/ums/Scripts/jquery.validate.js"></script>
    <script type="text/javascript" src="/ums/Scripts/jquery.validate.unobtrusive.js"></script>

</head>
<body class="dashbg">
    <div class="contentwraper">
        <header class="header">
            <div class="container-fluid">
                <div class="row">
                    <div class="col col-md-1 b-right">
                        <img src="/ums/Content/ums/images/dash-logo.png" alt="" class="dash-logo" />
                    </div>
                    <div class="col col-md-11">
                        <div class="row">
                            <div class="col">
                                <h4 class="moudlename">
                                    University Management System
                                    <span class="department-logo">Veer Madho Singh Bhandari Uttarakhand Technical University</span>
                                </h4>
                            </div>

                            <nav class="navbar navbar-expand-lg mainmenu">
                                <div class="container-fluid">
                                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                                        <span class="navbar-toggler-icon icons icon-menu"></span>
                                    </button>
                                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">


                                            <li class="nav-item dropdown">
                                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                                    <span class="icons icon-graph"></span> Transactions
                                                </a>
                                                
                                            </li>

</ul>

                                    </div>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- InstanceBeginEditable name="Content Area" -->
        


<form action="/ums/Student/Public/ViewDetail" id="frmViewDetail" method="post">    <div class="container-fluid pagecontentbody">
        <div class="tab-content">
            <div class="pagebody">
                <div class="col-md-12 pageheader">
                    <div class="row">
                        <div class="col-md-10">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
                                    <li class="breadcrumb-item"><a href="#"> Transactions </a></li>
                                    <li class="breadcrumb-item active" aria-current="page"> View Detail </li>
                                </ol>
                            </nav>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group mb-3 d-grid">
                                
                                <button type="button" class="btn btn-primary " data-print="modal" onclick="PrintDoc()">Print</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row" id="PrintDiv">
                    <div class="col-md-12">
                        <div class="row DivhideShow">
                            <div class="col-md-12" style="font-size:15px">
                                <strong>Note :- To access attendance records, Old Students (admitted prior to the current Admission Session) should submit their Roll No., while New Students (admitted in the current Admission Session) can retrieve their attendance records by submitting either their Application No.</strong>
                            </div>
                        </div>
                        <br />
                        <div class="row DivhideShow">
                            <div class="col-md-3">
                                <div class="form-group mb-3">
                                    <label>1.)User Id (Roll No./Application No.)  <span class="text-danger">*</span></label>
                                    
                                    <input class="form-control" data-val="true" data-val-required="Required" id="RollNo" name="RollNo" type="text" value="231620101073" />
                                    <span class="field-validation-valid text-danger" data-valmsg-for="RollNo" data-valmsg-replace="true"></span>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group mb-3">
                                    <label class="placeholder">
                                        2.)Password (Student Date of Birth)
                                        <span class="text-danger">*</span>
                                    </label>
                                    <input class="datepicker-here form-control" data-language="en" data-val="true" data-val-required="Required" id="DateOfBirth" name="DateOfBirth" onchange="changedate()" placeholder="DD/MM/YYYY" readonly="readonly" type="text" value="16/11/2005" />
                                    <span class="field-validation-valid text-danger" data-valmsg-for="DateOfBirth" data-valmsg-replace="true"></span>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label>3.)Enter Captcha</label>
                                    <input class="form-control" data-val="true" data-val-required="Required" id="Captcha" name="Captcha" type="text" value="8VD17" />
                                    <span class="field-validation-valid" data-valmsg-for="Captcha" data-valmsg-replace="true"></span>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="captcha">
                                    <label class="btn-block">4.)Captcha</label>
                                    <img src='/ums/Student/Master/GetCaptchaimage' id="imgCaptcha" style="border: solid 1px #ccc; width: 100%; height: 36px;" class="img-responsive captchimg" />
                                    
                                </div>
                            </div>
                            <div class="col-md-1 refresh">
                                <div class="cp_refresh">
                                    <a href="javascript:void()" onclick="javascript: RefreshCaptcha();" title="Refresh Captcha"><span class="fas fa-redo"></span></a>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group d-grid">

                                    <input type="submit" class="btn btn-warning" value="Login"  />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <table class="dn" style="width: 100%; margin-bottom: 5px;" border="0">
                            <tr>
                                <td colspan="2" align="center" style="position: relative; border: 0; padding-bottom: 5px;">
                                    <div style="border-bottom: 0px solid #000; padding-bottom: 2vw; line-height: 1.3;">
                                        <img src="/ums/Content/ums/images/dash-logo.png" style="position: absolute; width: 60px; top:3px; left:0;" />
                                        <div style="font-size: 12pt; font-weight: bold; font-family:arial">
                                            Veer Madho Singh Bhandari Uttarakhand Technical University, Dehradun
                                        </div>

                                        <div style="font-size: 12pt; font-weight: bold; font-family:arial; text-decoration: underline;">
                                            Subject Wise Student Attendance Details
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left; font-size: 12px; padding-top: 5px;">
                                </td>
                                <td style="text-align: right; font-size: 12px; padding-top: 5px;">
                                    <b>Print Date :</b> 03/12/2025 15:46:36
                                </td>
                            </tr>
                        </table>
                    </div>

                    <br />
                        <div class="col-md-12" id="ShowBasicDetail">

                            <div class="table-responsive">

                                <table class="table table-bordered table-striped">
                                    <tr>
                                        <th>Student Name</th>
                                        <td><label id="lblStudentName">YOGESH KUMAR</label></td>
                                        <th>Roll No./Application No.</th>
                                        <td><label id="lblFatherName">231620101073</label></td>
                                    </tr>
                                    <tr>
                                        <th>Father Name</th>
                                        <td><label id="lblFatherName">HEERA SINGH</label></td>
                                        <th>Mother Name</th>
                                        <td><label id="lblMotherName">MADHU SINGH</label></td>
                                        
                                    </tr>
                                    <tr>
                                        <th>Date Of Birth</th>
                                        <td><label id="lblDateOfBirth">16/11/2005</label></td>
                                        <th>College Name</th>
                                        <td> <label id="CollegeName">DR. A.P.J ABDUL KALAM INSTITUTE OF TECHNOLOGY (A CAMPUS INSTITUTION OF UNIVERSITY), TANAKPUR [162]</label></td>                                      
                                    </tr>
                                    <tr>
                                        <th>Course Name</th>
                                        <td><label id="CourseName">B.TECH.</label></td>
                                        <th>Branch Name</th>
                                        <td colspan="3"><label id="BranchName">Computer Science &amp; Engineering</label></td>
                                    </tr>
                                </table>

                                <table class="table table-bordered table-striped tblShowHide" style="display:none">
                                    <tr>
                                        <th>Session</th>
                                        <td><label id="txtSession"></label></td>
                                        <th>Semester</th>
                                        <td><label id="txtSemester"></label></td>
                                    </tr>
                                    <tr>
                                        <th>Year</th>
                                        <td><label id="txtYear"></label></td>
                                        <th>Month</th>
                                        <td><label id="txtMonth"></label></td>
                                    </tr>                                   
                                </table>
                            </div>
                            <div class="row">
                                <input type="hidden" name="CollegeId" id="hdnCollegeId" value="67" />
                                <input type="hidden" name="BranchId" id="hdnBranchId" value="1" />
                                <input type="hidden" name="CourseId" id="hdnCourseId" value="1" />
                                <input type="hidden" name="StudentAdmissionId" id="hdnStudentAdmissionId" value="32338" />
                                <hr />
                            </div>
                            <div class="row DivhideShow">
                                <div class="col-md-2">
                                    <div class="form-group mb-3">
                                        <label>Session  <span class="text-danger">*</span></label>
                                        <select class="form-select form-control" data-val="true" data-val-number="The field SessionYear must be a number." data-val-required="Required" id="SessionYear" name="SessionYear"><option value="">--Select--</option>
<option value="2025">2025-26</option>
</select>
                                        <span class="field-validation-valid" data-valmsg-for="SessionYear" data-valmsg-replace="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group mb-3">
                                        <label>Semester  <span class="text-danger">*</span></label>
                                        <select class="form-select select" data-val="true" data-val-number="The field CourseBranchDurationId must be a number." data-val-required="Required" id="CourseBranchDurationId" name="CourseBranchDurationId"><option value="">--Select--</option>
</select>
                                        <span class="field-validation-valid" data-valmsg-for="CourseBranchDurationId" data-valmsg-replace="true"></span>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group mb-3">
                                        <label class="placeholder">
                                            Year
                                            <span class="text-danger">*</span>
                                        </label>
                                        <select class="form-select form-control" data-val="true" data-val-number="The field Year must be a number." data-val-required="The Year field is required." id="Year" name="Year"><option value="">--Select--</option>
<option value="2025">2025</option>
<option value="2024">2024</option>
<option value="2023">2023</option>
</select>
                                        <span class="field-validation-valid text-danger" data-valmsg-for="Year" data-valmsg-replace="true"></span>
                                        
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group mb-3">
                                        <label class="placeholder">
                                            Month
                                            <span class="text-danger">*</span>
                                        </label>
                                        <select class="form-select form-control" data-val="true" data-val-number="The field MonthId must be a number." data-val-required="The MonthId field is required." id="MonthId" name="MonthId"><option value="">--Select--</option>
<option value="1">January</option>
<option value="2">February</option>
<option value="3">March</option>
<option value="4">April</option>
<option value="5">May</option>
<option value="6">June</option>
<option value="7">July</option>
<option value="8">August</option>
<option value="9">September</option>
<option value="10">October</option>
<option value="11">November</option>
<option value="12">December</option>
</select>
                                        <span class="field-validation-valid text-danger" data-valmsg-for="MonthId" data-valmsg-replace="true"></span>
                                        
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group mb-3 d-grid">
                                        <label class="form-label">&nbsp;</label>
                                        <input type="button" class="btn btn-warning" value="View Attendance" onclick="return ShowStudentAttendanceList()" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <h5>Date and Period wise Attendance Details</h5>
                                </div>
                            </div>
                        </div>
                    <div class="col-md-12">
                        <div class="table-responsive" id="tblAttendanceList">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form><script>

    function RefreshCaptcha() {
        var img = document.getElementById("imgCaptcha");
        img.src = '/ums/Student/Master/GetCaptchaimage' + "?query=" + Math.random();
    }

    $(document).ready(function () {
        var BranchId = $("#hdnBranchId").val();
        if (BranchId != null && BranchId != "" && BranchId != undefined) {
            Duration(BranchId);
        }
    })
        

    function OnChangeBranch(obj) {
        $("#CourseBranchDurationId").empty();
        $("#CourseBranchDurationId").append("<option value=''>--Select--</option>");
        if ($(obj).val() != '') {
            if ($('#StudentType').val() != 'False') {
                Duration($(obj).val());
            }
            else {
                BindDurationForNewStu($(obj).val());
            }
        }
    }

        function Duration(_branchId) {
            $("#CourseBranchDurationId").empty();
            $("#CourseBranchDurationId").append("<option value=''>--Select--</option>");
           if (_branchId != '') {
            $.ajax({
                url: '/ums/Admission/Master/GetCourseBranchDurationForAttendance',
                data: { BranchId: _branchId },
                datatype: "json",
                type: 'GET',
                async: false,
                success: function (data) {
                    $.each(data, function (i, result) {
                        $("#CourseBranchDurationId").append('<option value="' + result.Value + '">' + result.Text + '</option>');
                    });
                    if ($("#hdnCourseBranchDurationId").val() != null && $("#hdnCourseBranchDurationId").val() != '0') {
                        $("#CourseBranchDurationId").val($("#hdnCourseBranchDurationId").val())
                    }
                },
                error: function () {
                }
            });
        }
    }

    function BindDurationForNewStu(_branchId) {
        if (_branchId != '') {
            $.ajax({
                url: '/ums/Admission/Master/GetCourseBranchDurationForAttendance',
                data: { BranchId: _branchId },
                datatype: "json",
                type: 'GET',
                async: false,
                success: function (data) {
                    $.each(data, function (i, result) {
                        $("#CourseBranchDurationId").append('<option value="' + result.Value + '">' + result.Text + '</option>');
                    });
                },
                error: function () {
                }
            });
        }
    }



      function ShowStudentAttendanceList ()
      {
          debugger;

          var TotalPresentCount = 0;
          var TotalClassHeldCount = 0;
          var TotalAttendedCount = 0;
          var innerHtml = 0;
          $('#txtSession').text($('#SessionYear option:selected').text());
          $('#txtSemester').text($('#CourseBranchDurationId option:selected').text());
          $('#txtYear').text($('#Year option:selected').text());
          $('#txtMonth').text($('#MonthId option:selected').text());
          isvalidate = true;
          if ($("#SessionYear").val() == undefined || $("#SessionYear").val() == "" || $("#SessionYear").val() == null) {
              swal("Warning", "Please select Session Year", "warning");
              return false;
          }
          if ($("#CourseBranchDurationId").val() == undefined || $("#CourseBranchDurationId").val() == "" || $("#CourseBranchDurationId").val() == null) {
              swal("Warning", "Please select Semester .", "warning");
              return false;
          }
          if ($("#Year").val() == undefined || $("#Year").val() == "" || $("#Year").val() == null) {
              swal("Warning", "Please select Year.", "warning");
              return false;
          }
          if ($("#MonthId").val() == undefined || $("#MonthId").val() == "" || $("#MonthId").val() == null) {
              swal("Warning", "Please select Month.", "warning");
              return false;
          }
       var _CollegeId=  $("#hdnCollegeId").val();
       var _CourseId = $("#hdnCourseId").val();
       var _BranchId = $("#hdnBranchId").val();
       var _StudentAdmissionId = $("#hdnStudentAdmissionId").val();
        var _SessionYear = $("#SessionYear").val();
        var _CourseBranchDurationId = $("#CourseBranchDurationId").val();
        //var _AcademicSessionStart = $("#AcademicSessionStart").val();
        //var _AcademicSessionEnd = $("#AcademicSessionEnd").val();
        var _DateOfBirth = $("#DateOfBirth").val();
        var _RollNo = $("#RollNo").val();
          var _Year = $("#Year").val();
          var _MonthId = $("#MonthId").val();
        $("#tblAttendanceList").html('');
          $.ajax({
              url: '/ums/Student/Public/ShowStudentAttendanceListByRollNoDOB',
              data: { CollegeId: _CollegeId, CourseId: _CourseId, BranchId: _BranchId, CourseBranchDurationId: _CourseBranchDurationId, StudentAdmissionId: _StudentAdmissionId, DateOfBirth: _DateOfBirth, SessionYear: _SessionYear, RollNo: _RollNo, Year: _Year, MonthId: _MonthId },
              datatype: "json",
              type: 'GET',
              async: false,
              success: function (data) {
                  debugger;
                  $('#divLoader').hide();
                  if (data != '') {
                      debugger;
                      $("#tblAttendanceList").html(data);
                      /* $("#tblAttendanceList table tr").find('.clsTCH').val();*/
                      $("#tblAttendanceList table tbody tr").each(function () {
                          TotalClassHeldCount = TotalClassHeldCount + parseInt($(this).find('.clsTCH').text() == '' ? 0 : $(this).find('.clsTCH').text());
                          TotalPresentCount = TotalPresentCount + parseInt($(this).find('.clsTP').text() == ''? 0 : $(this).find('.clsTP').text());
                          /* TotalAttendedCount = TotalAttendedCount + $(this).find('.clsPP').text();*/
                      })
                      TotalAttendedCount = parseFloat((TotalPresentCount * 100) / (TotalClassHeldCount)).toFixed(2);
                      if (isNaN(TotalAttendedCount)) {
                          TotalAttendedCount = 0;
                      }

                       innerHtml += "<tr>";
                      innerHtml += "<td colspan=" + (($("#tblAttendanceList table thead tr th").length) - 3) + " style='font-weight: bold;'>Total</td><td style='text-align:center; font-weight:bold'>" + TotalClassHeldCount + "</td><td style='text-align:center; font-weight:bold'>" + TotalPresentCount + "</td><td style='text-align:center; font-weight: bold;'>" + TotalAttendedCount + "</td>";
                       innerHtml += "</tr>";
                   }
                   $("#tblAttendanceList table tbody").append(innerHtml);




               },
                error: function () {
                }
            });

    }
</script>

<script>
    function PrintDoc() {
        debugger
        $('.DivhideShow').hide();
        $('.tblShowHide').show();
        var toPrint = document.getElementById('PrintDiv');
        var ClonePrint = $(toPrint).clone();
        var popupWin = window.open('', '_blank', 'left=100,top=100,width=1100,height=600,tollbar=0,scrollbars=1,status=0,resizable=1');
        popupWin.document.open();
        popupWin.document.write('<html><title>::Preview::</title><head><style>body{font-family:Arial} .noprint{display: none;} table{width:100%; border-collapse:collapse;}.table tr th{text-align: left} .table tr th, .table tr td{border:1px solid #000; padding:3px 5px; font-size: 12px;}</style></head><body onload="window.print()">')
        popupWin.document.write(ClonePrint[0].innerHTML);
        popupWin.document.write('</body></html>');
        popupWin.document.close();
        $('.DivhideShow').show();
        $('.tblShowHide').hide();
    }
</script>
        <!-- InstanceEndEditable -->
        <footer>
            <div class="row">
                <div class="col-md-9">
                    <ul class="foot-list">
                        <li>Copyright Veer Madho Singh Bhandari Uttarakhand Technical University, Dehradun</li>
                    </ul>
                </div>
                <div class="col-md-3 text-right">
                    <ul class="foot-list">
                        <li>
                            
                        </li>
                    </ul>
                </div>
            </div>
        </footer>
    </div>

    <script type="text/javascript" src="/ums/Content/js/bootstrap.js"></script>
    <script type="text/javascript" src="/ums/Content/ums/js/jquery.smartmenus.js"></script>
    <script type="text/javascript" src="/ums/Content/ums/js/jquery.smartmenus.bootstrap-4.js"></script>
    <script type="text/javascript" src="/ums/Content/ums/js/jquery.nanoscroller.min.js"></script>
    <script type="text/javascript" src="/ums/Content/ums/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="/ums/Content/ums/js/dataTables.bootstrap5.min.js"></script>
    <script type="text/javascript" src="/ums/Content/js/datepicker.js"></script>
    <script type="text/javascript" src="/ums/Content/ums/js/datepicker.en.js"></script>
    
    <script type="text/javascript" src="/ums/Content/ums/js/beautifyhtml.js"></script>
    
    <script type="text/javascript" src="/ums/Content/ums/js/theme-script.js"></script>
    <script type="text/javascript" src='/ums/Content/ums/js/select2.min.js'></script>
    <script type="text/javascript" src="/ums/Content/ums/js/multiselect.js"></script>
    <script type="text/javascript" src="/ums/Content/js/sweetalert.min.js"></script>
    <script src="/ums/Content/Customjs/CommonJs.js"></script>

    <script>
        $(document).ready(function () {
            $(".filter-select").select2();
            $(".filter-select-popup").select2({ dropdownParent: $('#create-college') });

            $("#DateOfBirth").datepicker({
                autoClose: true
            })
        });
    </script>
</body>
</html>
